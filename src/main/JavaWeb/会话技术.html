<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>会话技术 | Baka-Blog</title>
    <meta name="description" content="Baka-Blog">
    <meta name="generator" content="VitePress v1.3.4">
    <link rel="preload stylesheet" href="/assets/style.DS-86Upk.css" as="style">
    <script type="module" src="/assets/chunks/metadata.ef8899c1.js"></script>
    <script type="module" src="/assets/app.DIwkSsrZ.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DBYPmp3l.js">
    <link rel="modulepreload" href="/assets/chunks/framework.sGs2IBkb.js">
    <link rel="modulepreload" href="/assets/src_main_JavaWeb_会话技术.md.Dkod1kaA.lean.js">
    <meta name="google-site-verification" content="eLQHfdBDlTdTLXtNSNAeDoT6xDNxKy3ZndFojW5LDJg">
    <link rel="icon" href="/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-b9153865><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d9879adb></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-d9879adb> Skip to content </a><!--]--><!----><header class="VPNav" data-v-b9153865 data-v-cf3857b3><div class="VPNavBar" data-v-cf3857b3 data-v-244698c2><div class="wrapper" data-v-244698c2><div class="container" data-v-244698c2><div class="title" data-v-244698c2><div class="VPNavBarTitle" data-v-244698c2 data-v-f4295021><a class="title" href="/" data-v-f4295021><!--[--><!--]--><!--[--><img class="VPImage logo" src="/head.jpg" alt data-v-8c329ab9><!--]--><span data-v-f4295021>Baka-Blog</span><!--[--><!--]--></a></div></div><div class="content" data-v-244698c2><div class="content-body" data-v-244698c2><!--[--><!--]--><div class="VPNavBarSearch search" data-v-244698c2><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-244698c2 data-v-40925f56><span id="main-nav-aria-label" class="visually-hidden" data-v-40925f56> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/main/" tabindex="0" data-v-40925f56 data-v-262e85d2><!--[--><span data-v-262e85d2>笔记</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/hxg/" tabindex="0" data-v-40925f56 data-v-262e85d2><!--[--><span data-v-262e85d2>hxg专属</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-40925f56 data-v-a5d0a90d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a5d0a90d><span class="text" data-v-a5d0a90d><!----><span data-v-a5d0a90d>常用工具</span><span class="vpi-chevron-down text-icon" data-v-a5d0a90d></span></span></button><div class="menu" data-v-a5d0a90d><div class="VPMenu" data-v-a5d0a90d data-v-9b29a648><div class="items" data-v-9b29a648><!--[--><!--[--><div class="VPMenuLink" data-v-9b29a648 data-v-88549aac><a class="VPLink link" href="/myUtils/工具集/" data-v-88549aac><!--[-->前端常用工具<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9b29a648 data-v-88549aac><a class="VPLink link" href="/后端/" data-v-88549aac><!--[-->后端常用工具<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9b29a648 data-v-88549aac><a class="VPLink link" href="/杂烩/" data-v-88549aac><!--[-->杂烩<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/about.html" tabindex="0" data-v-40925f56 data-v-262e85d2><!--[--><span data-v-262e85d2>关于我</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-40925f56 data-v-a5d0a90d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a5d0a90d><span class="text" data-v-a5d0a90d><!----><span data-v-a5d0a90d>realme</span><span class="vpi-chevron-down text-icon" data-v-a5d0a90d></span></span></button><div class="menu" data-v-a5d0a90d><div class="VPMenu" data-v-a5d0a90d data-v-9b29a648><div class="items" data-v-9b29a648><!--[--><!--[--><div class="VPMenuLink" data-v-9b29a648 data-v-88549aac><a class="VPLink link" href="/realme/mylog/" data-v-88549aac><!--[-->我的日志<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9b29a648 data-v-88549aac><a class="VPLink link" href="/realme/mystory/" data-v-88549aac><!--[-->我的故事<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-244698c2 data-v-261997e4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-261997e4 data-v-aa615598 data-v-9eac37e6><span class="check" data-v-9eac37e6><span class="icon" data-v-9eac37e6><!--[--><span class="vpi-sun sun" data-v-aa615598></span><span class="vpi-moon moon" data-v-aa615598></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-244698c2 data-v-eecac1a9 data-v-79509154><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ZtfCoder/blog" aria-label="github" target="_blank" rel="noopener" data-v-79509154 data-v-d9363501><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-244698c2 data-v-96d4d0a6 data-v-a5d0a90d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-a5d0a90d><span class="vpi-more-horizontal icon" data-v-a5d0a90d></span></button><div class="menu" data-v-a5d0a90d><div class="VPMenu" data-v-a5d0a90d data-v-9b29a648><!----><!--[--><!--[--><!----><div class="group" data-v-96d4d0a6><div class="item appearance" data-v-96d4d0a6><p class="label" data-v-96d4d0a6>Appearance</p><div class="appearance-action" data-v-96d4d0a6><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-96d4d0a6 data-v-aa615598 data-v-9eac37e6><span class="check" data-v-9eac37e6><span class="icon" data-v-9eac37e6><!--[--><span class="vpi-sun sun" data-v-aa615598></span><span class="vpi-moon moon" data-v-aa615598></span><!--]--></span></span></button></div></div></div><div class="group" data-v-96d4d0a6><div class="item social-links" data-v-96d4d0a6><div class="VPSocialLinks social-links-list" data-v-96d4d0a6 data-v-79509154><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ZtfCoder/blog" aria-label="github" target="_blank" rel="noopener" data-v-79509154 data-v-d9363501><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-244698c2 data-v-7be87632><span class="container" data-v-7be87632><span class="top" data-v-7be87632></span><span class="middle" data-v-7be87632></span><span class="bottom" data-v-7be87632></span></span></button></div></div></div></div><div class="divider" data-v-244698c2><div class="divider-line" data-v-244698c2></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-b9153865 data-v-b8654c42><div class="container" data-v-b8654c42><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-b8654c42 data-v-1a93fc46><button data-v-1a93fc46>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-b9153865 data-v-29ec0ad4><div class="VPDoc has-aside" data-v-29ec0ad4 data-v-26d7cf4b><!--[--><!--]--><div class="container" data-v-26d7cf4b><div class="aside" data-v-26d7cf4b><div class="aside-curtain" data-v-26d7cf4b></div><div class="aside-container" data-v-26d7cf4b><div class="aside-content" data-v-26d7cf4b><div class="VPDocAside" data-v-26d7cf4b data-v-6fde94e1><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6fde94e1 data-v-ca5aa030><div class="content" data-v-ca5aa030><div class="outline-marker" data-v-ca5aa030></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-ca5aa030>On this page</div><ul class="VPDocOutlineItem root" data-v-ca5aa030 data-v-6d4f0150><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6fde94e1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-26d7cf4b><div class="content-container" data-v-26d7cf4b><!--[--><!--]--><main class="main" data-v-26d7cf4b><div style="position:relative;" class="vp-doc _src_main_JavaWeb_%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF" data-v-26d7cf4b><div><h1 id="cookie会话技术" tabindex="-1">Cookie会话技术 <a class="header-anchor" href="#cookie会话技术" aria-label="Permalink to &quot;Cookie会话技术&quot;">​</a></h1><p>一次会话中包含多次请求和响应</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>一次会话:浏览器第一次给服务器资源发送请求,会话建立,直到有一方断开为止</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="功能" tabindex="-1">功能 <a class="header-anchor" href="#功能" aria-label="Permalink to &quot;功能&quot;">​</a></h2><p><strong>在一次会话的范围内的多次请求间,共享数据</strong></p><h2 id="方式" tabindex="-1">方式 <a class="header-anchor" href="#方式" aria-label="Permalink to &quot;方式&quot;">​</a></h2><h3 id="cookie" tabindex="-1">Cookie <a class="header-anchor" href="#cookie" aria-label="Permalink to &quot;Cookie&quot;">​</a></h3><h4 id="客户端会话技术" tabindex="-1">客户端会话技术 <a class="header-anchor" href="#客户端会话技术" aria-label="Permalink to &quot;客户端会话技术&quot;">​</a></h4><div class="language-Java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">1.创建Cookie对象,绑定数据</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Cookie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String name,String value)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">2.发送Cookie对象</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addCookie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Cookie cookie)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">3.获取Cookie,拿到数据</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    Cookie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] request.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCookie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="实现原理" tabindex="-1">实现原理 <a class="header-anchor" href="#实现原理" aria-label="Permalink to &quot;实现原理&quot;">​</a></h4><div class="language-Java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">基于set_cookie和请求头cookie实现</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="细节" tabindex="-1"><strong>细节</strong> <a class="header-anchor" href="#细节" aria-label="Permalink to &quot;**细节**&quot;">​</a></h4><p>1.可以一次发送多个cookie</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>创建多个Cookie对象,使用response调用调用多次addCookie方法</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>2.设置保存时间</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>默认值:当浏览器关闭后,Cookie数据被销毁</span></span>
<span class="line"><span>持久化:</span></span>
<span class="line"><span>	setMaxAge(int seconds)</span></span>
<span class="line"><span>	1.正数:将Cookie数据写到硬盘的文件中,持久化存储,cookie存活时间</span></span>
<span class="line"><span>	2.负数:默认值</span></span>
<span class="line"><span>	3.零:删除cookie信息</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>3.存储中文</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>在tomcat8 之前cookie不支持中文存储</span></span>
<span class="line"><span>	需要使用URL编码</span></span>
<span class="line"><span>	URLEncoder.encode(转码字符串,&quot;utf-8&quot;)</span></span>
<span class="line"><span>	</span></span>
<span class="line"><span>	获取值,同样需要解码</span></span>
<span class="line"><span>	URLDecoder.decode(&quot;解码字符串&quot;,&quot;utf-8&quot;)</span></span>
<span class="line"><span>	//注意:特殊字符最好使用URL编码</span></span>
<span class="line"><span>tomcat8 之后支持中文存储</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>4.获取范围</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>默认情况是只能共享在同一个项目下的cookie</span></span>
<span class="line"><span></span></span>
<span class="line"><span>可以设置范围来进行不同项目下的共享</span></span>
<span class="line"><span>setPath(String path)</span></span>
<span class="line"><span>设置为&quot;/&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>5.cookie值</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>尽量不要使用空格等特殊字符</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h1 id="session" tabindex="-1">Session <a class="header-anchor" href="#session" aria-label="Permalink to &quot;Session&quot;">​</a></h1><p>服务端会话技术</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>在一次会话的多次请求将共享数据,将数据保存在服务器端的对象中 HttpSession</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="使用" tabindex="-1"><strong>使用</strong> <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;**使用**&quot;">​</a></h2><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">获取HttpSession对象</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HttpSession session </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSession</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//有点类似与共享数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">使用对象</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String name, Object obj) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//存储数据 name:存储数据的名字 obj:存储对象</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String name) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//根据存储数据的名字来获取存储数据</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> removeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String name) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//通过名字来移除存储数据</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="原理" tabindex="-1"><strong>原理</strong> <a class="header-anchor" href="#原理" aria-label="Permalink to &quot;**原理**&quot;">​</a></h2><p>Session的实现是依赖于Cookie的</p><h2 id="其他" tabindex="-1"><strong>其他</strong> <a class="header-anchor" href="#其他" aria-label="Permalink to &quot;**其他**&quot;">​</a></h2><p><strong>1.当客户端关闭后,服务器不关闭,2次获取session是否是同一个</strong></p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">默认情况下</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 不是</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">如果需要,则可以创建一个Cookie 键为JSESSIONID 值就是之前的值,调用get方法,获取值,设置存活时间</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Cookie c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Cookie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JSESSIONID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,session.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>2.客户端不关闭,服务器关闭后,2此获取的session是同一个吗?</strong></p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">不是同一个对象,但是为了确保数据不丢失,tomcat自动设置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	1.session钝化</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		在服务器正常关闭之前,将session对象系列化到硬盘上</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		(类似序列化)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	2.session活化</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		在服务器启动后,将session文件转化成内存中的session对象</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		(类似反序列化)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	//注意 idea 无法实现活化功能,因为idea会在项目部署的时候,替换掉原来的文件,因此session文件被删除了</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>3.session销毁时间</strong></p><div class="language-Java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">1.服务器关闭</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">session对象调用invalidate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()方法时</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">session默认失效时间30分钟</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(可以去配置文件里修改)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>4.session的特点</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1.session用于存储一次会话的多次请求的数据,存在服务器端</span></span>
<span class="line"><span>2.session可以存储任意类型,任意大小的数据</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h1 id="区别" tabindex="-1">区别 <a class="header-anchor" href="#区别" aria-label="Permalink to &quot;区别&quot;">​</a></h1><p>1.session存储数据在服务器端,cookie在客户端</p><p>2.session没有数据大小的限制,cookie有</p><p>3.session数据安全,cookie相对不安全</p></div></div></main><footer class="VPDocFooter" data-v-26d7cf4b data-v-0b1e43a0><!--[--><!--]--><div class="edit-info" data-v-0b1e43a0><!----><div class="last-updated" data-v-0b1e43a0><p class="VPLastUpdated" data-v-0b1e43a0 data-v-867f5fc1>上次更新时间: <time datetime="2023-11-29T10:00:50.000Z" data-v-867f5fc1></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    
    
  </body>
</html>