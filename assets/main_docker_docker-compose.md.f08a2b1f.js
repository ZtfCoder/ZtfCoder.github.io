import{_ as s,a,c as n,b as p}from"./app.062e7d47.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"main/docker/docker-compose.md","lastUpdated":1662368311000}'),o={name:"main/docker/docker-compose.md"},l=p(`<p>\u5B89\u88C5\u5730\u5740</p><p><a href="https://github.com/docker/compose/releases" target="_blank" rel="noreferrer">Releases \xB7 docker/compose (github.com)</a></p><p>\u4E0B\u8F7D\u540E,\u79FB\u52A8\u5230 <code>/user/loacl/bin</code></p><p>\u4FEE\u6539\u540D\u79F0\u4E3A <code>docker-compose</code></p><p>\u76EE\u5F55\u4E0B,\u5E76\u4E14\u7ED9\u4E0E \u6743\u9650</p><p><code>chmod 777 \u6587\u4EF6\u540D</code></p><p>\u5982\u4F55\u4F7F\u7528</p><p>es \u5B9E\u6218</p><p>\u521B\u5EFA\u4E00\u4E2A\u6587\u4EF6\u4E3A <code>docker-compose.yml</code></p><div class="language-yaml"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">version</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">services</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">elasticsearch</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch:7.7.0</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">#\u955C\u50CF</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">container_name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elk_elasticsearch</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">#\u5B9A\u4E49\u5BB9\u5668\u540D\u79F0</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">restart</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">always</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">#\u5F00\u673A\u542F\u52A8\uFF0C\u5931\u8D25\u4E5F\u4F1A\u4E00\u76F4\u91CD\u542F</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">environment</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cluster.name=elasticsearch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">#\u8BBE\u7F6E\u96C6\u7FA4\u540D\u79F0\u4E3Aelasticsearch</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">discovery.type=single-node</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">#\u4EE5\u5355\u4E00\u8282\u70B9\u6A21\u5F0F\u542F\u52A8</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ES_JAVA_OPTS=-Xms256m -Xmx256m</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">#\u8BBE\u7F6E\u4F7F\u7528jvm\u5185\u5B58\u5927\u5C0F</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./plugins:/usr/share/elasticsearch/plugins</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">#\u63D2\u4EF6\u6587\u4EF6\u6302\u8F7D</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./data:/usr/share/elasticsearch/data</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">#\u6570\u636E\u6587\u4EF6\u6302\u8F7D</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">ports</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">9200:9200</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">9300:9300</span></span>
<span class="line"></span></code></pre></div><p>\u4E4B\u540E,\u7ED9\u6240\u7528\u5230\u7684\u6587\u4EF6\u8D4B\u4E88\u6743\u9650 ,\u5426\u5219\u65E0\u6CD5\u8BBF\u95EE\u8FD9\u4E9B\u6587\u4EF6</p><p>\u5728\u5F53\u524D\u76EE\u5F55\u4E0B\u6267\u884C \u5BB9\u5668 <code>docker-compose up -d</code> \u65E2\u53EF\u4EE5\u542F\u52A8\u5BB9\u5668</p><p>\u76F8\u5173\u547D\u4EE4</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;"># 1. \u57FA\u4E8Edocker-compose.yml\u542F\u52A8\u7BA1\u7406\u7684\u5BB9\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-compose up -d</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># 2. \u5173\u95ED\u5E76\u5220\u9664\u5BB9\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-compose down</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># 3. \u5F00\u542F|\u5173\u95ED|\u91CD\u542F\u5DF2\u7ECF\u5B58\u5728\u7684\u7531docker-compose\u7EF4\u62A4\u7684\u5BB9\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-compose start|stop|restart</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># 4. \u67E5\u770B\u7531docker-compose\u7BA1\u7406\u7684\u5BB9\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-compose ps</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># 5. \u67E5\u770B\u65E5\u5FD7</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-compose logs -f</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div>`,14),e=[l];function c(t,r,C,y,D,A){return a(),n("div",null,e)}const F=s(o,[["render",c]]);export{d as __pageData,F as default};
